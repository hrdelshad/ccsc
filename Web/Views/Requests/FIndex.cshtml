@model FilterRequestDTO
@{
	ViewData["Title"] = "درخواست‌های فعال";
}

@if (Model.Requests.Any())
{
	<div>
		<table class="table">
			<thead>
				<tr>
					<th>
						@Html.DisplayNameFor(model => model.Title)
					</th>
					<th>
						@Html.DisplayNameFor(model => model.Title)
					</th>

					<th>
						@Html.DisplayNameFor(model => model.RequestStatus)
					</th>
					<th></th>
				</tr>
			</thead>
			<tbody>
				@foreach (var item in Model.Requests)
				{
					var fullName = item.Contact.Salutation.Title + " " + item.Contact.FirstName + " " + item.Contact.LastName;
					<tr>
						<td>
							@Html.DisplayFor(modelItem => item.RequestTime)
						</td>
						<td>
							@Html.DisplayFor(modelItem => item.Title)
						</td>
						<td>
							@Html.DisplayFor(modelItem => item.Customer.Title)
						</td>

						<td>
							<a asp-action="Edit" asp-route-id="@item.RequestId">ویرایش</a> |
							<a asp-action="Details" asp-route-id="@item.RequestId">جزئیات</a> |
							<a asp-action="Delete" asp-route-id="@item.RequestId">حذف</a>
						</td>
					</tr>
				}
			</tbody>
		</table>
	</div>
}
else
{
	<partial name="_NoItemFoundPartial" />
}
